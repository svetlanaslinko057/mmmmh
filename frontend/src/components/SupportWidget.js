import React, { useState } from 'react';

const SupportWidget = () => {
  const [isOpen, setIsOpen] = useState(false);

  const supportChannels = [
    {
      name: 'Telegram',
      icon: (
        <svg className="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
          <path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.894 8.221l-1.97 9.28c-.145.658-.537.818-1.084.508l-3-2.21-1.446 1.394c-.14.18-.357.295-.6.295-.002 0-.003 0-.005 0l.213-3.054 5.56-5.022c.24-.213-.054-.334-.373-.121l-6.869 4.326-2.96-.924c-.64-.203-.658-.64.135-.954l11.566-4.458c.538-.196 1.006.128.832.941z"/>
        </svg>
      ),
      url: 'https://t.me/NM0214',
      bgColor: 'bg-[#0088cc]',
      hoverColor: 'hover:bg-[#006699]'
    },
    {
      name: 'Viber',
      icon: (
        <svg className="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
          <path d="M11.398.002C9.473.028 5.331.344 2.862 2.713 1.247 4.246.693 6.452.623 9.287c-.07 2.835-.085 8.157 4.97 9.596v2.113c0 .457.533.694.864.384l2.223-2.113c3.855.38 6.818-.614 7.16-.788.836-.381 5.502-1.76 6.252-7.146.768-5.52-.633-9.031-1.587-10.109-1.739-1.96-4.548-2.67-6.63-2.878-.333-.038-.622-.052-.88-.054zm.326 1.336l.153.004c.227.007.497.02.804.052 1.863.184 4.354.81 5.808 2.467.812.916 2.137 3.918 1.43 8.848-.638 4.458-4.355 5.607-5.051 5.929-.292.136-2.978 1.036-6.436.714l-.165-.012-.313.298-1.848 1.759v-1.617l-.224-.078c-4.298-1.195-4.164-5.795-4.101-8.322.061-2.524.515-4.423 1.862-5.706 2.152-2.047 5.883-2.307 7.63-2.332l.451-.002zm.19 1.313c-.151-.001-.305.01-.468.024-.34.026-.623.065-.931.126-.942.181-2.101.54-3.19 1.226-1.089.684-2.145 1.738-2.618 3.284-.473 1.546-.446 3.328.47 5.001.919 1.673 2.782 3.113 5.231 3.726.48.118.814-.243.814-.718 0-.475-.333-.833-.814-.951-2.06-.51-3.56-1.723-4.267-3.036-.706-1.312-.704-2.726-.306-3.981.396-1.255 1.259-2.089 2.166-2.663.905-.574 1.855-.86 2.621-.987.765-.127 1.37-.087 1.883.044.512.13.952.388 1.316.776.364.388.643.922.728 1.656.085.733.003 1.68-.308 2.699-.311 1.018-.828 2.108-1.559 3.092-.366.491-.773.972-1.235 1.412-.462.44-.992.846-1.593 1.129-.301.142-.64.237-.995.278-.356.042-.738.025-1.123-.08-.77-.21-1.531-.697-2.063-1.416-.532-.718-.818-1.653-.678-2.584.14-.932.686-1.822 1.606-2.398.46-.288.986-.506 1.556-.622.569-.117 1.195-.13 1.826-.026.63.104 1.26.33 1.83.683.285.176.552.384.793.625.12.12.232.25.334.388.101.139.195.288.27.446.074.157.128.322.159.49.031.168.038.339.013.509-.024.17-.08.337-.174.49-.095.154-.227.293-.392.408-.165.115-.368.205-.592.258-.224.053-.472.067-.72.044-.248-.023-.504-.079-.758-.17-.507-.184-.991-.475-1.395-.842-.202-.184-.382-.39-.529-.61-.147-.22-.26-.457-.324-.696-.064-.24-.078-.485-.047-.722.031-.237.104-.467.221-.674.117-.207.279-.39.482-.533.101-.072.211-.131.329-.176.118-.045.244-.073.374-.088.26-.028.53.014.776.103.246.089.467.228.644.403.088.088.16.186.213.291.053.105.087.218.098.334.011.115.001.233-.031.346-.032.112-.089.22-.168.316-.158.192-.399.31-.652.365-.252.055-.522.046-.782-.012-.519-.117-.991-.354-1.364-.672-.186-.159-.343-.338-.457-.533-.114-.195-.186-.41-.214-.63-.028-.22-.013-.447.049-.668.062-.221.173-.435.329-.625.156-.19.359-.355.598-.479.478-.248 1.087-.315 1.685-.225.598.09 1.176.315 1.665.644.49.329.89.759 1.148 1.259.258.5.375 1.059.329 1.603-.046.544-.243 1.062-.567 1.495-.324.433-.781.78-1.311.995-.53.214-1.123.295-1.702.24-.579-.054-1.14-.237-1.632-.517-.491-.28-.912-.653-1.237-1.088-.65-.87-.947-1.968-.844-3.062.103-1.094.547-2.185 1.306-3.078.759-.892 1.833-1.581 3.105-1.857.636-.138 1.315-.171 1.99-.103.675.068 1.343.237 1.961.504.619.267 1.187.631 1.67 1.076.485.445.883.97 1.17 1.552.288.582.464 1.218.517 1.873.053.655-.011 1.326-.196 1.971-.185.645-.487 1.262-.89 1.816-.403.555-.904 1.046-1.478 1.447-.574.4-1.219.705-1.903.895-.684.19-1.407.265-2.125.213-.718-.051-1.431-.214-2.1-.479-.669-.265-1.292-.628-1.842-1.074-.55-.445-1.025-.97-1.403-1.555-.378-.585-.659-1.227-.828-1.899-.169-.672-.226-1.372-.167-2.059.06-.687.218-1.361.468-1.993.25-.632.591-1.22 1.009-1.74.418-.52.909-.97 1.454-1.334.545-.364 1.142-.641 1.771-.818.629-.177 1.289-.254 1.944-.227.655.027 1.305.154 1.922.375.617.221 1.201.533 1.728.918.527.385.995.841 1.382 1.349.387.508.693 1.067.903 1.662.21.595.324 1.225.338 1.856.014.631-.072 1.263-.254 1.869-.182.606-.457 1.186-.814 1.716-.357.53-.792 1.009-1.289 1.416-.497.407-1.053.739-1.648.98-.595.242-1.228.392-1.873.442-.645.05-1.301-.014-1.938-.189-.637-.175-1.254-.447-1.822-.801-.568-.354-1.085-.788-1.528-1.283-.443-.495-.809-1.049-1.081-1.642-.272-.593-.449-1.224-.523-1.866-.074-.642-.044-1.295.089-1.929.133-.634.365-1.247.686-1.813.321-.566.729-1.083 1.204-1.531.475-.448 1.014-.824 1.6-1.111.586-.287 1.218-.484 1.869-.582.651-.098 1.321-.097 1.98.003.659.1 1.306.299 1.912.587.303.144.594.312.867.503.136.095.268.197.392.307.062.055.123.112.181.171l.084.089c.011.012.022.024.031.037.009.012.018.025.025.038.015.026.024.054.027.083.003.029-.002.058-.013.085-.011.027-.029.051-.051.071-.022.02-.048.036-.077.046-.058.02-.123.017-.184-.003-.06-.02-.116-.055-.162-.1-.023-.022-.044-.046-.064-.071-.04-.05-.076-.102-.11-.157-.068-.109-.127-.222-.177-.338-.1-.232-.174-.476-.222-.726-.096-.499-.096-1.018.001-1.516.097-.498.285-.973.552-1.397.267-.424.612-.795 1.014-1.094.402-.299.858-.522 1.342-.656.484-.134.993-.179 1.497-.133.504.046.999.182 1.456.399.457.217.875.511 1.231.868.356.357.648.772.858 1.227.21.455.337.946.374 1.447.037.501-.015 1.009-.154 1.493-.139.484-.364.943-.663 1.355-.299.412-.667.774-1.086 1.067-.419.293-.886.516-1.377.658-.491.142-.999.202-1.506.179-.507-.023-1.012-.133-1.488-.324-.476-.191-.922-.461-1.318-.794-.396-.333-.738-.726-1.008-1.163-.27-.437-.465-.914-.576-1.411-.111-.497-.138-1.012-.079-1.519.059-.507.206-.998.433-1.454.227-.456.533-.874.901-1.235.368-.361.795-.661 1.261-.883.466-.222.968-.366 1.483-.424.515-.058 1.042-.029 1.554.084.512.113 1.008.316 1.463.599.455.283.866.641 1.215 1.058.349.417.633.888.837 1.394.204.506.328 1.044.366 1.59.038.546-.009 1.099-.14 1.635-.131.536-.348 1.054-.639 1.529-.291.475-.653.904-1.069 1.268-.416.364-.882.661-1.378.878-.496.217-1.018.353-1.547.403-.529.05-1.064.013-1.584-.11-.52-.123-1.024-.334-1.488-.622-.464-.288-.885-.65-1.245-1.069-.36-.419-.656-.889-.874-1.394-.218-.505-.357-1.041-.412-1.586-.055-.545-.025-1.098.088-1.637.113-.539.318-1.063.604-1.548.286-.485.649-.929 1.072-1.313.423-.384.903-.703 1.42-.943.517-.24 1.067-.399 1.627-.471.56-.072 1.129-.056 1.683.046.554.102 1.093.296 1.591.571.498.275.953.627 1.347 1.04.394.413.723.882.973 1.389.25.507.42 1.049.504 1.604.084.555.082 1.12-.006 1.674-.088.554-.269 1.095-.533 1.598-.264.503-.612.963-1.026 1.362-.414.399-.892.733-1.413.987-.521.254-1.081.427-1.654.513-.573.086-1.158.085-1.733-.002-.575-.087-1.139-.266-1.664-.528-.525-.262-.998-.606-1.404-1.016-.406-.41-.742-.88-.992-1.39-.25-.51-.414-1.057-.485-1.617-.071-.56-.049-1.131.065-1.688.114-.557.328-1.097.631-1.595.303-.498.693-.947 1.152-1.327.459-.38.984-.688 1.547-.909.563-.221 1.161-.354 1.769-.394.608-.04 1.224.013 1.823.157.599.144 1.179.377 1.713.689.534.312 1.02.699 1.438 1.146.418.447.765.95 1.026 1.488.261.538.436 1.107.519 1.689.083.582.074 1.174-.026 1.755-.1.581-.302 1.148-.596 1.674-.294.526-.677.999-1.132 1.402-.455.403-.977.733-1.544.975-.567.242-1.174.395-1.795.453-.621.058-1.254.021-1.87-.109-.616-.13-1.215-.356-1.771-.666-.556-.31-1.068-.701-1.516-1.157-.448-.456-.828-.973-1.124-1.529-.296-.556-.508-1.149-.627-1.759-.119-.61-.145-1.235-.078-1.851.067-.616.24-1.221.509-1.787.269-.566.63-1.088 1.067-1.546.437-.458.945-.849 1.502-1.156.557-.307 1.158-.528 1.778-.654.62-.126 1.257-.157 1.887-.091.63.066 1.251.238 1.834.507.583.269 1.126.631 1.606 1.071.48.44.894.954 1.224 1.521.33.567.573 1.181.718 1.817.145.636.192 1.292.139 1.94-.053.648-.213 1.285-.474 1.884-.261.599-.617 1.155-1.055 1.645-.438.49-.952.909-1.521 1.241-.569.332-1.188.574-1.832.716-.644.142-1.309.183-1.966.122-.657-.061-1.303-.229-1.912-.496-.609-.267-1.179-.63-1.687-1.074-.508-.444-.95-.965-1.309-1.543-.359-.578-.633-1.207-.811-1.862-.178-.655-.26-1.333-.244-2.006.016-.673.126-1.338.326-1.975.2-.637.487-1.244.849-1.794.362-.55.794-1.039 1.281-1.449.487-.41 1.026-.738 1.595-.97.569-.232 1.166-.368 1.77-.403.604-.035 1.213.027 1.803.183.59.156 1.16.403 1.687.729.527.326 1.009.727 1.427 1.188.418.461.769.979 1.038 1.533.269.554.455 1.141.551 1.744.096.603.102 1.218.017 1.824-.085.606-.28 1.2-.577 1.753-.297.553-.691 1.061-1.165 1.502-.474.441-1.024.81-1.626 1.092-.602.282-1.25.475-1.916.571-.666.096-1.346.095-2.014-.004-.668-.099-1.321-.3-1.932-.594-.611-.294-1.177-.676-1.678-1.132-.501-.456-.933-.983-1.278-1.56-.345-.577-.602-1.201-.761-1.849-.159-.648-.22-1.316-.181-1.978.039-.662.181-1.316.419-1.936.238-.62.568-1.201.975-1.722.407-.521.889-.978 1.425-1.353.536-.375 1.122-.666 1.733-.861.611-.195 1.244-.294 1.876-.292.632.002 1.262.105 1.868.305.606.2 1.186.495 1.715.872.529.377 1.005.832 1.408 1.346.403.514.731 1.082.969 1.683.238.601.385 1.232.435 1.872.05.64.003 1.286-.139 1.913-.142.627-.378 1.233-.699 1.794-.321.561-.723 1.074-1.19 1.519-.467.445-1.003.817-1.585 1.101-.582.284-1.206.479-1.845.578-.639.099-1.289.101-1.928.006-.639-.095-1.265-.293-1.851-.585-.586-.292-1.129-.672-1.606-1.124-.477-.452-.885-.972-1.207-1.537-.322-.565-.557-1.172-.697-1.797-.14-.625-.185-1.266-.133-1.899.052-.633.208-1.257.463-1.843.255-.586.605-1.13 1.036-1.613.431-.483.938-.9 1.497-1.233.559-.333 1.165-.579 1.792-.729.627-.15 1.271-.203 1.911-.156.64.047 1.274.197 1.876.444.602.247 1.169.587 1.681.007.514.421 1.068.879 1.557 1.356 2.045.477.488.889 1.048 1.219 1.657.33.609.577 1.263.732 1.936.155.673.218 1.361.186 2.042-.032.681-.172 1.353-.416 1.988-.244.635-.586 1.229-1.011 1.761-.425.532-.929.998-1.49 1.381-.561.383-1.174.679-1.815.877-.641.198-1.305.299-1.967.299-.662 0-1.321-.101-1.961-.299z"/>
        </svg>
      ),
      url: 'viber://chat?number=+380661328786',
      bgColor: 'bg-[#7360f2]',
      hoverColor: 'hover:bg-[#5a4bc4]'
    },
    {
      name: 'WhatsApp',
      icon: (
        <svg className="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
          <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.890-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
        </svg>
      ),
      url: 'https://wa.me/380123456789',
      bgColor: 'bg-[#25D366]',
      hoverColor: 'hover:bg-[#1da851]'
    },
    {
      name: 'Messenger',
      icon: (
        <svg className="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
          <path d="M12 0C5.373 0 0 4.974 0 11.111c0 3.498 1.744 6.614 4.469 8.654V24l4.088-2.242c1.092.3 2.246.464 3.443.464 6.627 0 12-4.974 12-11.111C24 4.974 18.627 0 12 0zm1.191 14.963l-3.055-3.26-5.963 3.26L10.732 8l3.131 3.26L19.752 8l-6.561 6.963z"/>
        </svg>
      ),
      url: 'https://m.me/yourpage',
      bgColor: 'bg-[#0084ff]',
      hoverColor: 'hover:bg-[#0066cc]'
    }
  ];

  return (
    <>
      {/* Main Support Button - адаптивное позиционирование */}
      <div className="fixed left-4 md:left-6 bottom-20 md:bottom-6 z-40 flex flex-col items-center gap-3">
        {/* Expanded Icons */}
        <div 
          className={`flex flex-col gap-3 transition-all duration-300 ease-in-out ${
            isOpen ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-4 pointer-events-none'
          }`}
        >
          {supportChannels.map((channel, index) => (
            <a
              key={index}
              href={channel.url}
              target="_blank"
              rel="noopener noreferrer"
              className={`${channel.bgColor} ${channel.hoverColor} w-12 h-12 md:w-14 md:h-14 rounded-full flex items-center justify-center text-white shadow-lg transition-all duration-200 hover:scale-110 transform`}
              title={channel.name}
              style={{
                transitionDelay: isOpen ? `${index * 50}ms` : '0ms'
              }}
            >
              {channel.icon}
            </a>
          ))}
        </div>

        {/* Toggle Button */}
        <button
          onClick={() => setIsOpen(!isOpen)}
          className={`${
            isOpen ? 'bg-orange-500 hover:bg-orange-600' : 'bg-blue-600 hover:bg-blue-700'
          } w-12 h-12 md:w-14 md:h-14 rounded-full flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 transform`}
          aria-label={isOpen ? 'Закрыть меню поддержки' : 'Открыть меню поддержки'}
        >
          {isOpen ? (
            <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
            </svg>
          ) : (
            <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z" />
            </svg>
          )}
        </button>
      </div>
    </>
  );
};

export default SupportWidget;
